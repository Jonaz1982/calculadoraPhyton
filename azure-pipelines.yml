trigger:
  branches:
    include:
      - main

pool:
  vmImage: "ubuntu-latest"

steps:
  - task: UsePythonVersion@0
    inputs:
      versionSpec: "3.8"
      addToPath: true

  - script: |
      python -m pip install --upgrade pip
    displayName: "Actualizar pip"

  - script: |
      pip install -r requirements.txt  # Nombre del archivo corregido (antes "requirementes.txt")
    displayName: "Instalar dependencias"

  - script: |
      python -m pytest tests/ -v  # Ejecuta todos los tests en la carpeta tests/ con modo verbose
    displayName: "Ejecutar pruebas unitarias"
